2026-02-11 13:45:37,129 - __main__ - INFO - Configuration:
2026-02-11 13:45:37,129 - __main__ - INFO -   Kafka: localhost:9092
2026-02-11 13:45:37,129 - __main__ - INFO -   Topic: image-uploads
2026-02-11 13:45:37,129 - __main__ - INFO -   MinIO: localhost:9000
2026-02-11 13:45:37,129 - __main__ - INFO -   Bucket: images
2026-02-11 13:45:37,129 - __main__ - INFO -   PostgreSQL: localhost:5432
2026-02-11 13:45:37,130 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connecting> [IPv4 ('127.0.0.1', 9092)]>: connecting to localhost:9092 [('127.0.0.1', 9092) IPv4]
2026-02-11 13:45:37,130 - kafka.conn - INFO - Probing node bootstrap-0 broker version
2026-02-11 13:45:37,130 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connecting> [IPv4 ('127.0.0.1', 9092)]>: Connection complete.
2026-02-11 13:45:37,233 - kafka.conn - INFO - Broker version identified as 2.6.0
2026-02-11 13:45:37,233 - kafka.conn - INFO - Set configuration api_version=(2, 6, 0) to skip auto check_version requests on startup
2026-02-11 13:45:37,233 - kafka.consumer.subscription_state - INFO - Updating subscribed topics to: ('image-uploads',)
2026-02-11 13:45:37,240 - __main__ - INFO - MinIO bucket exists: images
2026-02-11 13:45:37,248 - __main__ - INFO - PostgreSQL table initialized
2026-02-11 13:45:37,248 - __main__ - INFO - Image Consumer initialized successfully
2026-02-11 13:45:37,248 - __main__ - INFO - ðŸš€ Starting Image Consumer...
2026-02-11 13:45:37,248 - __main__ - INFO - Waiting for messages... (Press Ctrl+C to stop)
2026-02-11 13:45:37,250 - kafka.cluster - INFO - Group coordinator for image-consumer-group is BrokerMetadata(nodeId='coordinator-1', host='localhost', port=9092, rack=None)
2026-02-11 13:45:37,250 - kafka.coordinator - INFO - Discovered coordinator coordinator-1 for group image-consumer-group
2026-02-11 13:45:37,250 - kafka.coordinator - INFO - Starting new heartbeat thread
2026-02-11 13:45:37,250 - kafka.coordinator.consumer - INFO - Revoking previously assigned partitions set() for group image-consumer-group
2026-02-11 13:45:37,250 - kafka.conn - INFO - <BrokerConnection node_id=coordinator-1 host=localhost:9092 <connecting> [IPv4 ('127.0.0.1', 9092)]>: connecting to localhost:9092 [('127.0.0.1', 9092) IPv4]
2026-02-11 13:45:37,250 - kafka.conn - INFO - <BrokerConnection node_id=coordinator-1 host=localhost:9092 <connecting> [IPv4 ('127.0.0.1', 9092)]>: Connection complete.
2026-02-11 13:45:37,250 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connected> [IPv4 ('127.0.0.1', 9092)]>: Closing connection. 
2026-02-11 13:45:37,351 - kafka.coordinator - INFO - (Re-)joining group image-consumer-group
2026-02-11 13:45:40,355 - kafka.coordinator - INFO - Elected group leader -- performing partition assignments using range
2026-02-11 13:45:40,356 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connecting> [IPv4 ('127.0.0.1', 9092)]>: connecting to localhost:9092 [('127.0.0.1', 9092) IPv4]
2026-02-11 13:45:40,356 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connecting> [IPv4 ('127.0.0.1', 9092)]>: Connection complete.
2026-02-11 13:45:40,362 - kafka.coordinator - INFO - Successfully joined group image-consumer-group with generation 3
2026-02-11 13:45:40,362 - kafka.consumer.subscription_state - INFO - Updated partition assignment: [TopicPartition(topic='image-uploads', partition=0), TopicPartition(topic='image-uploads', partition=1), TopicPartition(topic='image-uploads', partition=2)]
2026-02-11 13:45:40,362 - kafka.coordinator.consumer - INFO - Setting newly assigned partitions {TopicPartition(topic='image-uploads', partition=2), TopicPartition(topic='image-uploads', partition=0), TopicPartition(topic='image-uploads', partition=1)} for group image-consumer-group
2026-02-11 13:47:01,730 - __main__ - INFO - Processing: Screenshot from 2026-01-21 14-24-21.png (hash: 6a36c1ed...)
2026-02-11 13:47:01,738 - __main__ - INFO - âœ“ Uploaded to MinIO: s3://images/images/2026/02/11/Screenshot from 2026-01-21 14-24-21.png
2026-02-11 13:47:01,745 - __main__ - INFO - âœ“ Stored metadata in PostgreSQL for Screenshot from 2026-01-21 14-24-21.png
2026-02-11 13:47:01,745 - __main__ - INFO - âœ… Successfully processed Screenshot from 2026-01-21 14-24-21.png
